<% include partials/header.ejs %>

<%# <!-- unique page identifier --> %>
<div id="page-id-meals" hidden></div>

<img class="screen-loader" src="/images/screen-loader.png"></img>

<div class="meals-container">
	<% meals.forEach(function(meal){ %>

	<figure class="meal-box" data-meal-id="<%= meal.id %>">
		<div class="meal-box__photo-box">
			<img class="meal-box__photo" src="/<%= meal.image %>">
		</div>

		<figcaption class="meal-box__caption">
			<h3 class="meal-box__heading"
				data-meal-id="<%= meal.id %>"
				contenteditable="true"
				spellcheck="false">
				<%= meal.name %>
			</h3>
			<p class="meal-box__date">
				<span class="date-key">date: </span>
				<span class="date-value"
					data-meal-id="<%= meal.id %>"
					contenteditable="true"
					spellcheck="false">
					<%= meal.date %>
				</span>
			</p>

			<%# <!-- if meal has ever been cooked, display count. Otherwise, display '0' --> %>
			<p class="meal-box__had-count">
				<span class="count-key">count: </span>
				<span class="count-value"
					data-meal-id="<%= meal.id %>"
					contenteditable="true"
					spellcheck="false">
					<%= meal.count %>
				</span>
			</p>
		</figcaption>

		<%# <!-- BUTTON TO CLICK WHEN A MEAL HAS BEEN COODED TODAY --> %>
		<button
			class="meal-box__button js-had-it-today"
			data-meal-id="<%= meal.id %>"
			data-meal-date="<%= meal.date %>">
			Today!
		</button>

	</figure>
	<% }); %>
</div>

<% include partials/footer.ejs %>
